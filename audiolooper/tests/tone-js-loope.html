<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giannis Testitesti</title>
<!--    <script src="../../lib/p5.min.js"></script>-->
<!--    <script src="../../lib/p5.sound.min.js"></script>-->
<!--    <script src="../../shared/midizeugs.js"></script>-->
<!--    <script src="../soundsFiles.js"></script>-->
<!--    <script src="../../lib/webmidi.iife.js"></script>-->
    <script src="../../lib/Tone.js"></script>

    <!--    <script src="../shared/midimapping.js"></script>-->

</head>
<body>
<main>
<!--    <button id="startButton">Start Audio</button>-->
<!--    <button onclick="playNote()">Click me to play note!</button>-->

    <div id="content">
        <button id="tone-play">Play</button>

        <div id="tracks">
            <div id="progress"></div>
        </div>
    </div>

    <script>
        // set the transport
        Tone.Transport.bpm.value = 120;
        Tone.Transport.loop = true;
        //Tone.Transport.loopStart = "4m";
        Tone.Transport.loopEnd = "8m";

        const kick = new Tone.Player({
            url: "../sounds/compressed/01_Kick_mit_alles/1_beat_rolf_mit_alles.mp3",
            loop: true
        }).toDestination().sync().start(0);

        const kicksd = new Tone.Player({
            url: "../sounds/compressed/01_Kick_mit_alles/normal.mp3",
            loop: true
        }).toDestination().sync().start(0);

        // const kick2 = new Tone.Player({
        //     url: "../sounds/compressed/nanoloop/1_kick_hatty6.mp3",
        //     loop: true
        // }).toDestination().sync().start(0);
        //
        const kick123 = new Tone.Player({
            url: "../sounds/compressed/nanoloop16sek/hats2.mp3",
            loop: true
        }).toDestination().sync().start(0);

        // const kick4 = new Tone.Player({
        //     url: "../sounds/compressed/01_Kick_mit_alles/1_beat_rolf_mit_alles.mp3",
        //     loop: true
        // }).toDestination().sync().start(0);

        // connect the UI with the components
        document.getElementById("tone-play").addEventListener("click", () => Tone.Transport.start());
        //document.querySelector("tone-play-toggle").addEventListener("stop", () => Tone.Transport.stop());

        // keep the playhead on track
        // setInterval(() => {
        //     // scale it between 0-1
        //     const progress = (Tone.Transport.progress + 1) / 2;
        //     document.querySelector("#progress").style = `left: ${progress*100}%`;
        // }, 16);

    </script>
</main>
</body>

</html>
